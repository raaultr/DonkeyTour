{# Barra de progreso del wizard de reserva — incluir con {{ include('reserve/_wizard_progress.html.twig') }} #}
{% if is_sponsorship is defined and is_sponsorship %}
    {% set steps = ['Servicio', 'Burro', 'Confirmación'] %}
{% else %}
    {% set steps = ['Servicio', 'Fecha y Hora', 'Burro', 'Acompañantes', 'Confirmación'] %}
{% endif %}

<div class="flex items-center justify-center gap-1 sm:gap-2 mb-12">
    {% for step in steps %}
        <div class="flex items-center gap-1 sm:gap-2">
            <div class="flex flex-col items-center gap-1.5">
                <div class="w-9 h-9 sm:w-11 sm:h-11 rounded-full flex items-center justify-center font-bold text-xs sm:text-sm transition-all duration-300
                    {{ current_step > loop.index  ? 'bg-green-500 text-white shadow-lg shadow-green-500/30' :
                       current_step == loop.index ? 'bg-[#8B5E3C] text-white shadow-lg shadow-[#8B5E3C]/30 ring-4 ring-[#8B5E3C]/20' :
                       'bg-stone-100 text-stone-400' }}">
                    {% if current_step > loop.index %}
                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
                    {% else %}
                        {{ loop.index }}
                    {% endif %}
                </div>
                <span class="text-[9px] sm:text-[10px] font-bold uppercase tracking-wider
                    {{ current_step >= loop.index ? 'text-[#8B5E3C]' : 'text-stone-300' }} hidden sm:block">
                    {{ step }}
                </span>
            </div>
            {% if not loop.last %}
                <div class="w-6 sm:w-14 h-0.5 rounded transition-all duration-500 {{ current_step > loop.index ? 'bg-green-400' : 'bg-stone-200' }} mb-4 sm:mb-6"></div>
            {% endif %}
        </div>
    {% endfor %}
</div>
