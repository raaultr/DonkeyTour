{% extends 'base.html.twig' %}

{% block title %}Iniciar Sesi√≥n ‚Äî DonkeyTour{% endblock %}

{% block body %}
<div class="auth-bg">
    <div class="auth-card">
        {# Logo #}
        <div class="auth-logo">
            <span class="auth-logo-icon">ü´è</span>
            <div class="auth-logo-title">DonkeyTour</div>
            <div class="auth-logo-subtitle">Bienvenido de nuevo</div>
        </div>

        {# Error de autenticaci√≥n #}
        {% if error %}
            <div class="auth-error">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <span>{{ error.messageKey|trans(error.messageData, 'security') }}</span>
            </div>
        {% endif %}

        {# Formulario de login #}
        <form method="post">
            <div class="auth-field">
                <label for="inputEmail">Correo Electr√≥nico</label>
                <input type="email"
                       id="inputEmail"
                       name="_username"
                       value="{{ last_username }}"
                       autocomplete="email"
                       placeholder="ejemplo@correo.com"
                       required
                       autofocus>
            </div>

            <div class="auth-field">
                <label for="inputPassword">Contrase√±a</label>
                <input type="password"
                       id="inputPassword"
                       name="_password"
                       autocomplete="current-password"
                       placeholder="Tu contrase√±a"
                       required>
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <button type="submit" class="auth-btn">
                Iniciar Sesi√≥n
            </button>
        </form>

        <div class="auth-link">
            ¬øNo tienes una cuenta? <a href="{{ path('app_register') }}">Reg√≠strate aqu√≠</a>
        </div>
    </div>
</div>
{% endblock %}
